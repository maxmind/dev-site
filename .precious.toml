[commands.lint-scripts]
type = "lint"
cmd = [
  "npm",
  "run",
  "lint:scripts"
]
invoke = "once"
include = ["assets/js/**/*.{ts}"]
ok-exit-codes = 0

[commands.stylelint-styles]
type="both"
cmd = [
  "npx",
  "stylelint"
]
lint-flags = []
tidy-flags = ["--fix"]
path-args = "absolute-file"
include = ["assets/scss/**"]
ok-exit-codes = 0

[commands.prettier-scripts]
type = "both"
cmd = [
  "npx",
  "prettier",
  "--write"
]
lint-flags = ["--check"]
tidy-flags = ["--write"]
path-args = "absolute-file"
include = ["assets/js/**"]
ok-exit-codes = 0

[commands.cspell-content]
type="lint"
include = ["*.md"]
cmd = [
  "npm",
  "run",
  "lint:cspell",
]
ok-exit-codes = 0

[commands.prettier-markdown]
type = "both"
include = [
    "assets/**/*.md",
    "content/**/*.md"
]
cmd = [
    "./node_modules/.bin/prettier",
    "--parser",
    "markdown",
    "--print-width",
    "80",
    "--prose-wrap",
    "always",
    "--embedded-language-formatting",
    "off",
    "--html-whitespace-sensitivity",
    "ignore",
]
lint-flags = "--check"
tidy-flags = "--write"
ok-exit-codes = 0
lint-failure-exit-codes = 1
ignore-stderr = ["Code style issues"]

[commands.format-content]
type = "tidy"
cmd = [
  "npm",
  "run",
  "format:rawhtml"
]
lint-flags = []
path-args = "absolute-file"
include = ["content/**/*.md"]
ok-exit-codes = 0
